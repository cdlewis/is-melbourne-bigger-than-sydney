<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="./projections.js"></script>
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Permanent+Marker"
      rel="stylesheet"
    />
    <title>Is Melbourne bigger than Sydney?</title>
  </head>
  <body>
    <div id="content">
      <div id="chart-container"><canvas id="chart"></canvas></div>
    </div>
    <script type="text/javascript">

        window.updateProjection = projection => {
          const [
            sydneyPoints,
            melbournePoints,
            intersectionPoint
          ] = getProjection(projection);
          for (let dataset of config.data.datasets) {
            if (dataset.label === "Sydney (Projected)") {
              dataset.data = sydneyPoints;
            } else if (dataset.label === "Melbourne (Projected)") {
              dataset.data = melbournePoints;
            }
          }

          config.options.intersectionPoint.dataIndex = intersectionPoint;
          config.options.intersectionPoint.dataLabel =
            labels[intersectionPoint];

          chart.update();
        };
      };
    </script>
    <img src="./arrow.svg" id="arrowAsset" style="display: none;" />
  </body>
</html>
